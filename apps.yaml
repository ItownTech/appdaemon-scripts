global_modules:
  - secrets
  - messages

notfiyOfActionWhenAway:
  module: notfiyOfActionWhenAway
  class: NotfiyOfActionWhenAway
  sensor: binary_sensor.door_window_sensor_158d000126a57b,binary_sensor.motion_sensor_158d00012aab97,media_player.denon_avrx1300w,switch.livingroom_large_lamp,switch.studyroom_lamp,switch.livingroom_small_lamp,switch.studyroom_ceiling_lamp,switch.storageroom_ceiling_lamp,switch.kitchen_ceiling_lamp,switch.livingroom_ceiling,switch.lobby_ceiling,switch.snowboard,light.bedroom_yeelight,light.bar_table
  isHome: input_boolean.is_home
  user_name: group_notifications
  global_dependencies:
    - messages
    - secrets

detectWrongStateWhenLeaving:
  module: detectWrongStateWhenLeaving
  class: DetectWrongStateWhenLeaving
  sensor: binary_sensor.motion_sensor_158d00012aab97,media_player.denon_avrx1300w,switch.livingroom_large_lamp,switch.studyroom_lamp,switch.livingroom_small_lamp,switch.studyroom_ceiling_lamp,switch.storageroom_ceiling_lamp,switch.kitchen_ceiling_lamp,switch.livingroom_ceiling,switch.lobby_ceiling,switch.snowboard,light.bedroom_yeelight,light.bar_table
  isHome: input_boolean.is_home
  

#eventMonitor:
#  module: eventMonitor
#  class: Monitor
#  events: click,motion_action

#Toggle Studyroom lamp when Xiaomi Button is clicked once
xiaomiroundButtonClicked:
  module: buttonClicked
  class: ButtonClicked
  sensor: binary_sensor.switch_158d00012db9e5
  actor_single: switch.studyroom_lamp
  actor_double: switch.studyroom_ceiling_lamp

obenTreppeMotionTrigger:
  module: motionTrigger
  class: MotionTrigger
  sensor: binary_sensor.motion_sensor_158d00012aab97
  entity_on: light.treppe_oben
  entity_off: light.treppe_oben
  after_sundown: True

#Switch on Lobby lamp when the first person is coming home and the sun is down
comingHome:
  module: comingHome
  class: ComingHome
  sensor: binary_sensor.door_window_sensor_158d000126a57b
  isHome: input_boolean.is_home
  actor: switch.livingroom_large_lamp

#Control the isHome state. Determines if someone is home or all persons are away
isHomeDeterminer:
  module: isHomeDeterminer
  class: IsHomeDeterminer
  ishome: input_boolean.is_home
  input_booleans: input_boolean.user_one_home,input_boolean.user_two_home
  global_dependencies:
    - messages
    - secrets

newWifiDeviceNotify:
  module: newWifiDeviceNotify
  class: DeviceNotify
  global_dependencies:
    - messages

notifyFailedLogin:
  module: notifyFailedLogin
  class: NotifyFailedLogin
  user_name: secret_name_user_one
  global_dependencies:
    - messages
    - secrets

#googleTravelTime:
#  module: google_travel_time
#  class: GoogleTravelTime
#  entities:
#    input_number.travel_time_work_from_home:
#      notify_input_boolean: input_boolean.travel_time_work_from_home
#      from: secret_home
#      to: secret_work
#    input_number.travel_time_home_from_work:
#      notify_input_boolean: input_boolean.travel_time_home_from_work
#      from: secret_work
#      to: secret_home  
#    input_number.travel_time_elmo_from_home:
#      notify_input_boolean: input_boolean.travel_time_elmo_from_home
#      from: secret_home
#      to: secret_elmo_location    
#  global_dependencies:
#    - secrets
#    - messages

leavingWorkNotifierUserOne:
  module: leavingZoneNotifier
  class: LeavingZoneNotifier
  proximity: proximity.work
  device: secret_name_user_one
  user_name: secret_name_user_one
  zone: Work
  zone_tracker_delay: 180
  global_dependencies:
    - secrets
    - messages

headingHomekNotifierUserOne:
  module: headingToZoneNotifier
  class: HeadingToZoneNotifier
  proximity: proximity.home_user_one
  device: secret_name_user_one
  user_name: secret_name_user_one
  notify_name: secret_name_user_two
  global_dependencies:
    - secrets
    - messages

zoneArrivalNotifier:
  module: zoneArrivalNotifier
  class: ZoneArrivalNotifier
  global_dependencies:
    - secrets
    - messages

#Determine if user one gets/leaves home
isUserHomeDeterminerUserOne:
  module: isUserHomeDeterminer
  class: IsUserHomeDeterminer
  input_boolean: input_boolean.user_one_home
  device_tracker: secret_device_user_one
  door_sensor: binary_sensor.door_window_sensor_158d000126a57b
  global_dependencies:
    - secrets
    - messages

#Determine if user two gets/leaves home
isUserHomeDeterminerUserTwo:
  module: isUserHomeDeterminer
  class: IsUserHomeDeterminer
  input_boolean: input_boolean.user_two_home
  device_tracker: secret_device_user_two
  door_sensor: binary_sensor.door_window_sensor_158d000126a57b
  global_dependencies:
    - secrets
    - messages

#Notification if user one arrives at home
homeArrivalNotifierUserOne:
  module: homeArrivalNotifier
  class: HomeArrivalNotifier
  input_boolean: input_boolean.user_one_home
  notify_name: secret_name_user_one
  zone_name: Home
  global_dependencies:
    - secrets
    - messages

#Notification if user two arrives at home
homeArrivalNotifierUserTwo:
  module: homeArrivalNotifier
  class: HomeArrivalNotifier
  input_boolean: input_boolean.user_two_home
  notify_name: secret_name_user_two
  zone_name: Home
  global_dependencies:
    - secrets
    - messages

